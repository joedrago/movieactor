<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Movie / Actor</title>
        <style>
            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
            }

            body {
                font-family: system-ui, -apple-system, sans-serif;
                background: #1a1a1a;
                color: #e0e0e0;
                height: 100dvh;
                display: flex;
                flex-direction: column;
            }

            #app {
                display: flex;
                flex-direction: column;
                height: 100%;
                max-width: 600px;
                margin: 0 auto;
                width: 100%;
            }

            #chat {
                flex: 1;
                overflow-y: auto;
                padding: 1rem;
                display: flex;
                flex-direction: column;
                justify-content: flex-end;
                gap: 0.75rem;
            }

            .message {
                font-family: "SF Mono", "Monaco", "Inconsolata", "Fira Code", monospace;
                font-size: 0.9rem;
                font-weight: 400;
                line-height: 1.5;
                white-space: pre-wrap;
                word-wrap: break-word;
                padding: 0.75rem 1rem;
                border-radius: 8px;
                max-width: 90%;
            }

            .message.system {
                background: #2a2a2a;
                color: #b0b0b0;
                align-self: flex-start;
            }

            .message.system b {
                color: #f0f0f0;
            }

            .message.user {
                background: #2563eb;
                color: white;
                align-self: flex-end;
            }

            .message.listening {
                background: #3d5a80;
                color: white;
                align-self: flex-end;
            }

            #toolbar {
                padding: 0.5rem 1rem;
                background: #252525;
                border-top: 1px solid #333;
                font-family: "SF Mono", "Monaco", "Inconsolata", "Fira Code", monospace;
                font-size: 0.8rem;
                color: #888;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            #toolbar .tts-toggle {
                display: flex;
                align-items: center;
                gap: 0.4rem;
                cursor: pointer;
                user-select: none;
            }

            #toolbar .tts-toggle input {
                display: none;
            }

            #toolbar .tts-toggle .toggle-track {
                width: 32px;
                height: 18px;
                background: #444;
                border-radius: 9px;
                position: relative;
                transition: background 0.2s;
            }

            #toolbar .tts-toggle input:checked + .toggle-track {
                background: #2563eb;
            }

            #toolbar .tts-toggle .toggle-track::after {
                content: "";
                position: absolute;
                top: 2px;
                left: 2px;
                width: 14px;
                height: 14px;
                background: #fff;
                border-radius: 50%;
                transition: transform 0.2s;
            }

            #toolbar .tts-toggle input:checked + .toggle-track::after {
                transform: translateX(14px);
            }

            #restart-btn {
                padding: 0.25rem 0.75rem;
                background: #444;
                color: #e0e0e0;
                border: none;
                border-radius: 4px;
                font-size: 0.8rem;
                font-family: inherit;
                cursor: pointer;
                transition: background 0.2s;
            }

            #restart-btn:hover {
                background: #555;
            }

            #status {
                padding: 0.5rem 1rem;
                background: #252525;
                border-top: 1px solid #333;
                font-family: "SF Mono", "Monaco", "Inconsolata", "Fira Code", monospace;
                font-size: 0.8rem;
                color: #888;
                display: flex;
                justify-content: space-between;
            }

            #status .current-item {
                color: #f0f0f0;
            }

            #status .scores {
                color: #60a5fa;
            }

            #input-area {
                padding: 1rem;
                background: #252525;
                border-top: 1px solid #333;
            }

            #input-form {
                display: flex;
                gap: 0.5rem;
            }

            #input {
                flex: 1;
                padding: 0.75rem 1rem;
                font-family: "SF Mono", "Monaco", "Inconsolata", "Fira Code", monospace;
                font-size: 1rem;
                background: #1a1a1a;
                border: 1px solid #444;
                border-radius: 8px;
                color: #e0e0e0;
                outline: none;
            }

            #input:focus {
                border-color: #2563eb;
            }

            #input::placeholder {
                color: #666;
            }

            #submit {
                padding: 0.75rem 1.5rem;
                background: #2563eb;
                color: white;
                border: none;
                border-radius: 8px;
                font-size: 1rem;
                cursor: pointer;
                transition: background 0.2s;
            }

            #submit:hover {
                background: #1d4ed8;
            }

            #submit:disabled {
                background: #444;
                cursor: not-allowed;
            }
        </style>
    </head>
    <body>
        <div id="app">
            <div id="chat">
            </div>
            <div id="toolbar">
                <label class="tts-toggle">
                    <input type="checkbox" id="tts-checkbox" />
                    <span class="toggle-track"></span>
                    <span class="toggle-label">Voice</span>
                </label>
                <button id="restart-btn">Restart</button>
            </div>
            <div id="status">
                <span class="current-item"></span>
                <span class="scores"></span>
            </div>
            <div id="input-area">
                <form id="input-form">
                    <input type="text" id="input" placeholder="Type your answer..." autocomplete="off" disabled />
                    <button type="submit" id="submit" disabled hidden>Send</button>
                </form>
            </div>
        </div>
        <script src="/socket.io/socket.io.js"></script>
        <script src="index.js"></script>
    </body>
</html>
